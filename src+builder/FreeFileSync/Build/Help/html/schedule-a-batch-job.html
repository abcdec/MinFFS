<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="base.css" >
	<title>Schedule a Batch Job</title>
</head>

<body>
	<h1>Schedule a Batch Job</h1>

	<ol>
		<li>Create a new batch job via FreeFileSync's main dialog: <b>Menu &rarr; File &rarr; Save as batch job...</b><br>&nbsp;
		
		<li>By default FreeFileSync will show a progress dialog during synchronization and wait while the results dialog is shown.
			If the progress dialog is not needed enable checkbox <b>Run minimized</b>. This will also skip the results dialog at the end.
			<br><br>	
			Alternatively if you want to see the progress, but not pause at the results, it's sufficient to only select the <i>On completion</i> action <b>Close progress dialog</b>.
			<br><br>
		
			<img src="../images/setup-batch-job.png" alt="Setup a FreeFileSync batch job">
			<br><br>
			
			<div class="box-outer"><div class="bluebox"><div class="box-inner">
				<b>Note</b><br>
				 Even if the progress dialog is not shown at the beginning, you can make it visible at any time <b>during</b> 
				 synchronization by double-clicking the FreeFileSync notification area icon.
			</div></div></div>			
			<br>

		<li>If you don't want error or warning messages to interrupt synchronization, set <b>Handle errors</b> to either <b>Ignore</b> or <b>Stop</b>.<br>
			&nbsp;
		
		<li>If log files are required, enable <b>Save log</b> and enter a folder path. Additionally FreeFileSync always stores the result of the last
			synchronization in file <span class="file-path">LastSyncs.log</span> (up to a user-defined size, see <a href="expert-settings.html">Expert Settings</a>).<br>
			&nbsp;
		<li>Set up the FreeFileSync batch job in your operating system's scheduler:<br>
	</ol>
	<br>
	<hr/>
	
	<h2>A. Windows 7 Task Scheduler:</h2>
	<ul>
		<li>Click on Start and run <span class="command-line"><b>taskschd.msc</b></span>.
		
		<li>Create a new <b>basic task</b> and follow the wizard.			
		
		<li>Make <b>Program/script</b> point to the location of FreeFileSync.exe and insert the ffs_batch file into <b>Add arguments</b>.
		
		<li>Use quotation marks to protect spaces in path names, e.g. <span class="file-path">&quot;D:\Backup Projects.ffs_batch&quot;</span><br>
			<br>
			<img src="../images/win7-scheduler.png" alt="Windows 7 Task Scheduler">
	</ul>	
	
	<div class="box-outer"><div class="bluebox"><div class="box-inner">
		<b>Note</b><br>
		Beginning with Windows Vista the <i>Program/script</i> always needs to point to an executable file like FreeFileSync.exe even
		if ffs_batch file associations are set up. If a ffs_batch file were entered instead the task would return with
		error code 0xC1, &quot;%1 is not a valid Win32 application&quot;.
	</div></div></div>	
	<br>
	
	<hr/>
	
	<h2>B. OS X Automator and Calendar:</h2>
	<ul>
		<li>Open Launchpad and run <b>Automator</b>.<br>
			<img src="../images/launch-automator.png" alt="Launch OS X Automator"><br>&nbsp;
		
		<li>Create a new <b>Calendar Alarm</b>.<br>
			<img src="../images/new-calendar-alarm.png" alt="Create Calendar Alarm"><br>&nbsp;
		
		<li>Drag and drop the ffs_batch file on the workflow panel.<br>
			<img src="../images/automator-file-dropped.png" alt="Drop FreeFileSync batch file in Automator"><br>&nbsp;
		
		<li>Drag and drop action <i>Files & Folders/Open Finder Items</i> and add it to the workflow.<br>
			<img src="../images/open-finder-items.png" alt="Add open Finder items"><br>&nbsp;
		
		<li>Go to <b>File &rarr; Save...</b> and save the Automator job.<br>
			<img src="../images/save-automator.png" alt="Save Automator job"><br>&nbsp;
		
		<li>The Calendar app will start automatically with the Automator job scheduled to the current day. You can now select a different time for synchronization or make it a recurring task.<br>
			<img src="../images/calendar-job-added.png" alt="Edit batch job in Calendar"><br>&nbsp;
	</ul>
	<br>					
	<hr/>
	
	<h2>C. Windows XP Scheduled Tasks:</h2>
	<ul>
		<li>Go to <b>Start &rarr; Control Panel &rarr; Scheduled Tasks</b> and select <b>Add Scheduled Task</b>.
		
		<li>Follow the wizard and select <span class="file-path">FreeFileSync.exe</span> as program to run.
		
		<li>Fill the input field <b>Run:</b>
			<span class="command-line">&lt;FreeFileSync installation folder&gt;\FreeFileSync.exe &lt;job name&gt;.ffs_batch</span><br>
			<br>
			<img src="../images/xp-scheduler.png" alt="Windows XP Task Scheduler"><br>&nbsp;
	</ul>		
	<br>
	<hr/>
	
	<h2>D. Ubuntu Linux Gnome Scheduled Tasks:</h2>
	<ul>
		<li>Install Gnome-schedule if necessary: <span class="command-line">sudo apt-get install gnome-schedule</span>
		
		<li>Go to <b>System &rarr; Preferences &rarr; Scheduled tasks</b>
		
		<li>Enter the command:
			<span class="command-line">&lt;FreeFileSync installation folder&gt;/FreeFileSync &lt;job name&gt;.ffs_batch</span><br>
			<br>
			<img src="../images/gnome-scheduler.png" alt="Gnome Scheduler">
	</ul>
</body>
</html>